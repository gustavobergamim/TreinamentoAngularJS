<html ng-app="listaTelefonica">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta charset="utf-8" />
	<style type="text/css">
		tr:nth-child(even).selected td {
			background-color: #A0B2FF;
		}

		tr:nth-child(odd).selected td {
			background-color: #D5DCFF;
		}
	</style>
</head>
<body ng-controller="ListaTelefonicaController">
	<h1 ng-bind="titulo"></h1>

	<fieldset>
		<legend>Dados do Contato</legend>
		<div>
			<label for="nome">Nome:</label>
			<input type="text" ng-model="contato.nome" id="nome" />
			<br/>
			<label for="telefone">Telefone:</label>
			<input type="text" ng-model="contato.telefone" id="telefone" />
			<br/>
			<label for="sexo">Sexo:</label>
			<label ng-repeat="sexo in sexos">
				<input type="radio" ng-value="sexo" ng-model="contato.sexo" name="sexo" />
				{{sexo.descricao}}
 			</label>
			<br/>
			<label for="operadora">Operadora:</label>
			<select ng-model="contato.operadora" ng-options="op.nome for op in operadoras track by op.id">
				<option value="">Selecione...</option>
			</select>
			<br/>
			<input type="button" value="Salvar" ng-click="salvarContato()" ng-disabled="!camposPreenchidos()" />
			<input type="button" value="Cancelar" ng-show="edicaoAtiva()" ng-click="cancelarEdicaoContato()" />
		</div>
	</fieldset>

	<fieldset ng-show="exibeContatos()">
		<legend>Lista de Contatos</legend>
		<table>
			<thead>
				<tr>
					<th></th>
					<th>Nome</th>
					<th>Telefone</th>
					<th>Sexo</th>
					<th>Operadora</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="contato in contatos" ng-class="{selected: contato.selecionado}">
					<td>
						<input type="checkbox" ng-disabled="edicaoAtiva()"
							ng-model="contato.selecionado" />
					</td>
					<td>{{contato.nome}}</td>
		    		<td>{{contato.telefone}}</td>
		    		<td>{{contato.sexo.sigla}}</td>
		    		<td>{{contato.operadora.nome}}</td>
		    		<td>
		    			<input type="button" value="Editar" ng-click="editarContato($index, contato)" ng-disabled="edicaoAtiva()" />
		    			<input type="button" value="Remover" ng-click="contatos.splice($index, 1)" ng-disabled="edicaoAtiva()"/>
		    		</td>
				</tr>
			</tbody>
		</table>
	</fieldset>

	<pre>
		{{ contato | json }}
	</pre>

	<script type="text/javascript" src="./angular.min.js"></script>
	<script type="text/javascript" src="./listaTelefonicaController.js"></script>

</body>
</html>